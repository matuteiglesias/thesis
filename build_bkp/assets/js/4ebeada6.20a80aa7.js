"use strict";(self.webpackChunkthesis=self.webpackChunkthesis||[]).push([[4287],{2319:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Location-Quotients/chapter2_20","title":"Appendix: pLQ Regressor","description":"Learn how to compute pLQ probabilities using a custom regressor in Python, with detailed code examples.","source":"@site/docs/Location-Quotients/chapter2_20.md","sourceDirName":"Location-Quotients","slug":"/appendix-plq-regressor","permalink":"/docs/appendix-plq-regressor","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Location-Quotients/chapter2_20.md","tags":[{"inline":true,"label":"Python","permalink":"/docs/tags/python"},{"inline":true,"label":"Machine Learning","permalink":"/docs/tags/machine-learning"},{"inline":true,"label":"Data Science","permalink":"/docs/tags/data-science"}],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"slug":"/appendix-plq-regressor","title":"Appendix: pLQ Regressor","description":"Learn how to compute pLQ probabilities using a custom regressor in Python, with detailed code examples.","keywords":["pLQ regressor","Python","sklearn","KNeighborsRegressor","data analysis"],"tags":["Python","Machine Learning","Data Science"]},"sidebar":"tutorialSidebar","previous":{"title":"Conclusion on Location Quotients","permalink":"/docs/Location-Quotients/conclusion-location-quotients"},"next":{"title":"Correlations in Geography","permalink":"/docs/category/correlations-in-geography"}}');var o=t(4848),r=t(8453);const i={sidebar_position:20,slug:"/appendix-plq-regressor",title:"Appendix: pLQ Regressor",description:"Learn how to compute pLQ probabilities using a custom regressor in Python, with detailed code examples.",keywords:["pLQ regressor","Python","sklearn","KNeighborsRegressor","data analysis"],tags:["Python","Machine Learning","Data Science"]},a=void 0,p={},c=[{value:"Appendix: pLQ Regressor",id:"appendix-plq-regressor",level:2},{value:"Code Implementation",id:"code-implementation",level:3},{value:"Example Usage",id:"example-usage",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"appendix-plq-regressor",children:"Appendix: pLQ Regressor"}),"\n",(0,o.jsxs)(n.p,{children:["In this section, we provide a method to compute the ",(0,o.jsx)(n.strong,{children:"pLQ probabilities"})," in customized settings using Python. This involves using a ",(0,o.jsx)(n.strong,{children:"K-Nearest Neighbors Regressor"})," to estimate the probabilities."]}),"\n",(0,o.jsx)(n.h3,{id:"code-implementation",children:"Code Implementation"}),"\n",(0,o.jsx)(n.p,{children:"Below is a Python function that estimates a pLQ regressor:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import pandas as pd\nfrom sklearn import neighbors\n\ndef pLQ_regressor(df, n):\n    \"\"\"Estimate a pLQ regressor\n    Arguments:\n    df -- (pandas dataframe) \n        Input data. must contain columns for:\n        - The log observed values at t ('log_s')\n        - The log size factor Sc Sp / Sw at t ('log_size_factor')\n        - Whether LQ > 1 at t + 1 ('LQ_t+1')\n    n -- number of neighbors\n    \"\"\"\n    \n    # Prepare X, y data for knn\n    M = df[['log_s','log_size_factor','LQ_t+1']].as_matrix()\n    X, y = M[:,:2], M[:, 2]\n    \n    # Fit\n    knn = neighbors.KNeighborsRegressor(n_neighbors = n, weights = 'uniform').fit(X, y)\n    \n    return knn\n"})}),"\n",(0,o.jsx)(n.h3,{id:"example-usage",children:"Example Usage"}),"\n",(0,o.jsx)(n.p,{children:"Here is how you can use the above function to fit the regressor and predict pLQ at a specific point:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Load the data as pandas DataFrame\ndf = pd.read_csv('./data.csv')\n\n# Fit the regressor\nknn = pLQ_regressor(df, n=5)\n\n# Ask pLQ at a point i\npLQ_i = knn.predict([[log_s_i, log_size_factor_i]])\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This example demonstrates loading data, fitting the regressor, and predicting the pLQ at a given point. Adjust the number of neighbors ",(0,o.jsx)(n.code,{children:"n"})," as needed for your specific dataset."]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);